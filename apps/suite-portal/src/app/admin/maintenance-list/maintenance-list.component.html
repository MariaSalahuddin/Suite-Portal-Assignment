<table *ngIf="maintenanceRequests && maintenanceRequests.length > 0" mat-table [dataSource]="maintenanceRequests" class="mat-elevation-z8 demo-table">
    <ng-container matColumnDef="apartmentno">
        <th mat-header-cell *matHeaderCellDef>Apartment No</th>
        <td mat-cell *matCellDef="let element">{{element.unitNumber}}</td>
    </ng-container>

    <ng-container matColumnDef="requesterName">
        <th mat-header-cell *matHeaderCellDef>Requester Name</th>
        <td mat-cell *matCellDef="let element">{{element.name}}</td>
    </ng-container>

    <ng-container matColumnDef="requesterEmail">
        <th mat-header-cell *matHeaderCellDef>Requester Email</th>
        <td mat-cell *matCellDef="let element">{{element.email}}</td>
    </ng-container>

    <ng-container matColumnDef="serviceType">
        <th mat-header-cell *matHeaderCellDef>Service Type</th>
        <td mat-cell *matCellDef="let element">{{element.serviceType}}</td>
    </ng-container>
    <ng-container matColumnDef="summary">
        <th mat-header-cell *matHeaderCellDef>Summary</th>
        <td mat-cell *matCellDef="let element">{{element.summary}}</td>
    </ng-container>
    <ng-container matColumnDef="details">
        <th mat-header-cell *matHeaderCellDef>Details</th>
        <td mat-cell *matCellDef="let element">{{element.details ? element.details : 'N/A' }}</td>
    </ng-container>
    <ng-container matColumnDef="submittedAt">
        <th mat-header-cell *matHeaderCellDef>Submitted At</th>
        <td mat-cell *matCellDef="let element">{{element.submittedAt | date}}</td>
    </ng-container>
    <ng-container matColumnDef="status">
        <th mat-header-cell *matHeaderCellDef>Status</th>
        <td mat-cell *matCellDef="let element">
            <mat-select [(value)]="element.status">
                <mat-option *ngFor="let s of status" [value]="s.value" (click)="changeStatus(element.id, s.value)">
                    {{ s.viewName }}
                </mat-option>
            </mat-select>
        </td>

    </ng-container>


    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
</table>
<mat-option *ngIf="maintenanceRequests && maintenanceRequests.length == 0" ng-reflect-value="correct value">
    <span class="mat-option-text">No Maintenace Request</span>
  </mat-option>
